<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:replace="${pageTitle}">Car Parts Marketplace</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/style.css}">
    <link rel="stylesheet" th:href="@{/assets/css/responsive.css}">
    
    <!-- Additional Head Content -->
    <th:block th:replace="${head-extra}"></th:block>
</head>
<body>
    <!-- Header -->
    <header class="header_area">
        <div class="header_top">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6">
                        <div class="header_contact">
                            <span class="contact_item">
                                <i class="ion-ios-telephone"></i>
                                <span>+1 (555) 123-4567</span>
                            </span>
                            <span class="contact_item">
                                <i class="ion-ios-email"></i>
                                <span>support@recicar.com</span>
                            </span>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="header_top_right">
                            <div class="social_links">
                                <a href="#" class="social_link"><i class="ion-social-facebook"></i></a>
                                <a href="#" class="social_link"><i class="ion-social-twitter"></i></a>
                                <a href="#" class="social_link"><i class="ion-social-instagram"></i></a>
                                <a href="#" class="social_link"><i class="ion-social-linkedin"></i></a>
                            </div>
                            <div class="language_selector">
                                <select class="language_select">
                                    <option value="en">English</option>
                                    <option value="es">Español</option>
                                    <option value="fr">Français</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="header_main">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-3">
                        <div class="logo">
                            <a th:href="@{/}">
                                <img th:src="@{/assets/img/logo.png}" alt="Recicar Logo" class="logo_img">
                                <span class="logo_text">Recicar</span>
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="search_bar">
                            <form th:action="@{/search}" method="get" class="search_form">
                                <div class="search_input_group">
                                    <input type="text" 
                                           class="search_input" 
                                           name="q" 
                                           placeholder="Search for car parts...">
                                    <button type="submit" class="search_btn">
                                        <i class="ion-ios-search-strong"></i>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="header_actions">
                            <div class="action_item">
                                <a th:href="@{/wishlist}" class="action_link" title="Wishlist">
                                    <i class="ion-heart"></i>
                                    <span class="action_count" th:if="${wishlistCount > 0}" th:text="${wishlistCount}">0</span>
                                </a>
                            </div>
                            <div class="action_item">
                                <a th:href="@{/cart}" class="action_link" title="Shopping Cart">
                                    <i class="ion-ios-cart"></i>
                                    <span class="action_count" th:if="${cartCount > 0}" th:text="${cartCount}">0</span>
                                </a>
                            </div>
                            <div class="action_item user_menu" sec:authorize="isAuthenticated()">
                                <div class="dropdown">
                                    <button class="dropdown_toggle" type="button" data-bs-toggle="dropdown">
                                        <i class="ion-person"></i>
                                        <span sec:authentication="name">User</span>
                                    </button>
                                    <ul class="dropdown_menu">
                                        <li><a class="dropdown_item" th:href="@{/profile}">My Profile</a></li>
                                        <li><a class="dropdown_item" th:href="@{/orders}">My Orders</a></li>
                                        <li><a class="dropdown_item" th:href="@{/dashboard}">Dashboard</a></li>
                                        <li><hr class="dropdown_divider"></li>
                                        <li>
                                            <form th:action="@{/logout}" method="post" style="display: inline;">
                                                <button type="submit" class="dropdown_item logout_btn">Logout</button>
                                            </form>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="action_item" sec:authorize="!isAuthenticated()">
                                <a th:href="@{/login}" class="btn btn-outline-primary">Login</a>
                                <a th:href="@{/register}" class="btn btn-primary">Register</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <nav class="main_nav">
            <div class="container">
                <div class="nav_wrapper">
                    <button class="mobile_menu_btn" type="button">
                        <i class="ion-navicon"></i>
                    </button>
                    
                    <ul class="nav_menu">
                        <li class="nav_item">
                            <a th:href="@{/}" class="nav_link">Home</a>
                        </li>
                        <li class="nav_item dropdown">
                            <a href="#" class="nav_link dropdown_toggle">Categories</a>
                            <ul class="dropdown_menu" th:if="${categories != null}">
                                <li th:each="category : ${categories}">
                                    <a th:href="@{/products(category=${category.id})}" 
                                       class="dropdown_item" 
                                       th:text="${category.name}">Category</a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav_item">
                            <a th:href="@{/products}" class="nav_link">All Products</a>
                        </li>
                        <li class="nav_item">
                            <a th:href="@{/vendors}" class="nav_link">Vendors</a>
                        </li>
                        <li class="nav_item">
                            <a th:href="@{/about}" class="nav_link">About</a>
                        </li>
                        <li class="nav_item">
                            <a th:href="@{/contact}" class="nav_link">Contact</a>
                        </li>
                    </ul>
                    
                    <div class="nav_right">
                        <div class="nav_contact">
                            <span class="nav_contact_text">Need Help?</span>
                            <a href="tel:+15551234567" class="nav_contact_phone">+1 (555) 123-4567</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main_content">
        <th:block th:replace="${content}"></th:block>
    </main>

    <!-- Footer -->
    <footer class="footer_area">
        <div class="footer_top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3 col-md-6">
                        <div class="footer_widget">
                            <div class="footer_logo mb-3">
                                <img th:src="@{/assets/img/logo-white.png}" alt="Recicar Logo" class="footer_logo_img">
                                <span class="footer_logo_text">Recicar</span>
                            </div>
                            <p class="footer_description">
                                Your trusted marketplace for quality car parts. Find genuine and aftermarket parts from verified sellers.
                            </p>
                            <div class="footer_social">
                                <a href="#" class="social_link"><i class="ion-social-facebook"></i></a>
                                <a href="#" class="social_link"><i class="ion-social-twitter"></i></a>
                                <a href="#" class="social_link"><i class="ion-social-instagram"></i></a>
                                <a href="#" class="social_link"><i class="ion-social-linkedin"></i></a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-3 col-md-6">
                        <div class="footer_widget">
                            <h4 class="footer_widget_title">Quick Links</h4>
                            <ul class="footer_links">
                                <li><a th:href="@{/}" class="footer_link">Home</a></li>
                                <li><a th:href="@{/products}" class="footer_link">Products</a></li>
                                <li><a th:href="@{/vendors}" class="footer_link">Vendors</a></li>
                                <li><a th:href="@{/about}" class="footer_link">About Us</a></li>
                                <li><a th:href="@{/contact}" class="footer_link">Contact</a></li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="col-lg-3 col-md-6">
                        <div class="footer_widget">
                            <h4 class="footer_widget_title">Customer Service</h4>
                            <ul class="footer_links">
                                <li><a th:href="@{/help}" class="footer_link">Help Center</a></li>
                                <li><a th:href="@{/shipping}" class="footer_link">Shipping Info</a></li>
                                <li><a th:href="@{/returns}" class="footer_link">Returns</a></li>
                                <li><a th:href="@{/warranty}" class="footer_link">Warranty</a></li>
                                <li><a th:href="@{/faq}" class="footer_link">FAQ</a></li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="col-lg-3 col-md-6">
                        <div class="footer_widget">
                            <h4 class="footer_widget_title">Contact Info</h4>
                            <div class="footer_contact">
                                <div class="contact_item">
                                    <i class="ion-ios-location"></i>
                                    <span>123 Auto Parts St, Car City, CC 12345</span>
                                </div>
                                <div class="contact_item">
                                    <i class="ion-ios-telephone"></i>
                                    <span>+1 (555) 123-4567</span>
                                </div>
                                <div class="contact_item">
                                    <i class="ion-ios-email"></i>
                                    <span>support@recicar.com</span>
                                </div>
                                <div class="contact_item">
                                    <i class="ion-ios-time"></i>
                                    <span>Mon-Fri: 9AM-6PM</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer_bottom">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <p class="copyright_text">
                            © 2024 Recicar. All rights reserved.
                        </p>
                    </div>
                    <div class="col-md-6">
                        <div class="footer_bottom_links">
                            <a th:href="@{/privacy}" class="footer_bottom_link">Privacy Policy</a>
                            <a th:href="@{/terms}" class="footer_bottom_link">Terms of Service</a>
                            <a th:href="@{/sitemap}" class="footer_bottom_link">Sitemap</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript Files -->
    <script th:src="@{/assets/js/jquery-3.4.1.min.js}"></script>
    <script th:src="@{/assets/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/assets/js/main.js}"></script>
    
    <!-- Additional Scripts -->
    <th:block th:replace="${scripts-extra}"></th:block>
</body>
</html>